
<head th:replace="fragments_others_head" :: head></head>
<style>
.input-error{border:1px solid #F01 !important}
</style>
<body>
	<div id="layout-wrapper">

		<div th:replace="fragments_others_header" :: header></div>

		<div th:replace="fragments_others_menu" :: menu></div>

		<div class="main-content">
			<div class="page-content">
				<div class="container-fluid">
					<div class="row">
						<div class="col-12">
							<div
								class="page-title-box d-sm-flex align-items-center justify-content-between">
								<h4 class="mb-sm-0"></h4>

								<div class="page-title-right">
									<ol class="breadcrumb m-0">
										<li class="breadcrumb-item"><a
											href="javascript: void(0);">Dashboard</a></li>
										<li class="breadcrumb-item active">Project Infra Details</li>
									</ol>
								</div>

							</div>
						</div>
					</div>
					<div class="row">

						<div class="col-lg-12">
							<div class="card">
								<div class="card-header bg-primary pb-2 pt-2">
									<div class="d-flex justify-content-between">
										<h4 class="card-title text-white mb-0 pt-2">Project Infra
											Details</h4>
									</div>
								</div>
								<div class="card-body">
									<div id="suspectedAadhaar">
										<form class="needs-validation" id="formid" novalidate										
											th:object="${viewProjectServerConfigurations}">
											<div class="row g-3 mt-0 mb-3  alert-danger">
												<div class="col-xxl-3 col-sm-5">
													<select class="form-select mb-3"
														aria-label="Default select example" id="PROJECT_NAME"
														name="PROJECT_NAME"  onchange="handleProjectSelection(event)" required>
														<option selected disabled value="">Select Project</option>
														<option th:each="project : ${projectList}"
															th:value="${project[0]}" th:text="${project[1]}"></option>
													</select>
												</div>
												<div class="col-xxl-3 col-sm-5">												
													<select
														class="demo-example form-select mb-3 needs-validation" id="PROJECT_ENVIRONMENT"
														required>
														<option selected disabled value="">Select Environment</option>
														<option>ALL</option>
														<option>Production</option>
														<option>Pre-Production</option>
														<option>DR</option>
													</select>
												</div>
												<div class="col-xxl-1 col-sm-4">
													<div>
														<button class="btn btn-primary w-100" type="button"
															id="submit" onclick="filters(event)">Search</button>
													</div>
												</div>
												<div class="col-xxl-2 col-sm-4 text-sm-end">
													<div>
														<button type="button" class="btn btn-danger fs-14"
															data-bs-toggle="modal" href="#exampleModalToggle"
															role="button">
															<i class="ri-file-download-line align-bottom me-2"></i>
															Add
														</button>
													</div>
												</div>
											</div>
										</form>																																				
										<!-------------------------------------Table---------------------------------------->
										<div class="table-responsive table-card1 mt-4 mb-1 tblNew1">
											<table id="example" class="table table-striped dataTable"
												style="width: 100%">


												<thead class="alert-info">
													<tr>
														<th>S.no</th>
														<th>PROJECT NAME</th>
														<th>ENVIRONMENT</th>
														<th>ACTION</th>													
													</tr>
												</thead>
												<tbody class="list form-check-all">
													
												</tbody>
												<tfoot class="alert-info">
													<tr>
														<th>S.no</th>
														<th>PROJECT NAME</th>
														<th>ENVIRONMENT</th>
														<th>ACTION</th>
													
													</tr>
												</tfoot>
											</table>

										</div>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>	
		<!---------------------------------------------------  To add ------------------------------------------------>

		<div class="modal fade" id="exampleModalToggle" aria-hidden="true"
			aria-labelledby="exampleModalToggleLabel" tabindex="-1">
			<div class="modal-dialog modal-lg modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header pt-3 pb-2">
						<h5 class="modal-title" id="exampleModalToggleLabel">Add Infra Detail</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<form class="row g-3 alert-danger">
							<div class="col-md-4">
								<select class="form-select mb-3" aria-label="Default select example" id="PROJECT_ID"
									name="PROJECT_NAME" onchange="handleProjectSelection(event)" required>
									<option selected disabled value="">Select Project</option>
									<option th:each="project : ${projectList}"
										th:value="${project[0]}" th:text="${project[1]}"></option>
								</select>
								 <span id="dropdownErrorProject" style="color: red; display: none;">Please select a project</span>    
							</div>
							<div class="col-md-4">
								<select class="demo-example form-select mb-3" id="environmentInput">
									<option selected="" disabled value="">Select Environment</option>
									<option>Production</option>
									<option>Pre-Production</option>
									<option>DR</option>
								</select>
								 <span id="dropdownErrorEnvironment" style="color: red; display: none;">Please select an environment</span>  
							</div>
							<div class="col-md-4">
								<select class="form-select mb-3" id="detailType">
									<option selected="" disabled>Select Detail Type</option>
									<option value="Server Detail">Server Detail</option>
									<option value="DB Details">DB Details</option>
									<option value="LB Details">LB Details</option>
									<option value="Hardware Details">Hardware Details</option>
									<option value="Leased Line Detail">Leased Line Detail</option>
								</select>								
							</div>						  
						</form>

<!-------------------------------------------------------------- Server Details ---------------------------------------------------------->

						<form  class="row g-3 mt-1 needs-validation" novalidate  id="serverDetails" onsubmit="submitForm(event, 'Server Details')">
						<!-- Success message placeholder -->
							<div id="formMessage" class="col-12 alert-success text-center" style="font-size: 14px;"></div>
							<!-- <div id="formMessage" class="alert alert-success text-center" style="font-size: 16px;"></div> -->
							
							<div class="alert alert-danger" role="alert" th:text="${error}" th:if="${error}"></div>										
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Project Name </label> 
								<input type="text" class="form-control" placeholder="Project Name" id="projectName" required>
							</div>						
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">IP</label> 
								<input type="text" class="form-control" id="ip"
									value="" required
									pattern="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
									title="Please enter a valid IP address."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid IP address.')">
								<div class="invalid-feedback">Please enter a valid IP address.</div>
							</div>														
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Server Type </label> 
								<select  class="form-select" id="serverType" required>
									<option selected disabled value="">Select Service ...</option>
									<option>Dedicated</option>
									<option>Shared</option>
								</select>
							</div>
							<!-- <div class="col-md-6">
								<label for="fullnameInput" class="form-label">CPU Core </label>
								<input type="text" class="form-control" id="cpuCode" required> 
							</div> -->
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">CPU Core </label> 
								<input type="text" class="form-control"
									id="cpuCode" value="" required pattern="[0-9]+"
									title="Please enter a valid number."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid number.')">
								<div class="invalid-feedback">Please enter a valid number.
									</div>
							</div>
							
							<!-- <div class="col-md-6">
								<label for="fullnameInput" class="form-label">RAM </label> <input
									type="text" class="form-control" id="setRam" required>
							</div> -->
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">RAM </label> 
								<input type="text" class="form-control"
									id="setRam" value="" required pattern="[0-9]+"
									title="Please enter a valid number."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid number.')">
								<div class="invalid-feedback">Please enter a valid number.
									</div>
							</div>
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">OS Type</label> <select
									class="form-select" id="osType" required>
									<option selected disabled value="">Select OS Type...</option>
									<option>Windows</option>
									<option>Linux</option>
								</select>
							</div>
						 <div class="col-md-6">
								<label for="fullnameInput" class="form-label">Os Version
								</label> <input type="text" class="form-control" id="osVersion" required>
							</div> 
							
						
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Technology
								</label> <select class="form-select" id="technology" required>
									<option selected disabled value="">Select Technology ...</option>
									<option>Java</option>
									<option>.Net</option>
								</select>
							</div>
							<div class="col-md-6">
								<label for="inputState" class="form-label">WebSphere</label> <select
									 class="form-select" id="selectWebSphere" required>
									<option selected disabled value="">Select WebSphere...</option>
									<option>Yes</option>
									<option>No</option>
								</select>
							</div>						
							<div class="col-md-6">
								<label for="selectLocation" class="form-label">Location</label> <select
									class="form-select" id="selectLocation" required>
									<option selected disabled value="">Select Location...</option>
									<option>BSDC P4</option>
									<option>BSDC P3 (BSDC Jhalana)</option>
									<option>RSDC P1</option>
								</select>
							</div>												
							<div class="col-md-6">
								<label for="inputState" class="form-label">Upload Encryption Certificate</label> 
								<input type="file" class="form-control" accept=".pdf"
									id="uploadEncryptioncertificate" name="inputFile" required>
							</div>
							 <div class="col-md-6">
								<label for="workOrderStartDate" class="form-label">Encryption Certificate Exp. Date</label>
								<div>
									<input id="workOrderStartDate" name="workOrderStartDate"
										type="date" class="form-control flatpickr-input active"
										data-provider="flatpickr" data-date-format="Y-m-d"
										data-enable-time="false" placeholder="Start Date" required
										>
								</div>
							</div> 					
							<div class="col-md-6">
								<label for="inputState" class="form-label">Upload Signing Certificate</label> 
								<input type="file" class="form-control" accept=".pdf"
									id="uploadSigingCertificate" name="inputFile" required>
							</div>													
							<div class="col-md-6">
								<label for="workOrderStartDate" class="form-label">Signing Certificate Exp. Date</label>
								<div>
									<input id="workOrderEndDate" name="workOrderStartDate"
										type="text" class="form-control flatpickr-input active"
										data-provider="flatpickr" data-date-format="Y-m-d"
										data-enable-time="false" placeholder="Start Date" required
										>
								</div>
							</div>
							<div class="col-12 mt-3">
								<div class="text-center">
									<button type="submit" id="submit" class="btn btn-primary">Submit</button>
									<button type="reset" class="btn btn-secondary">Reset</button>
								</div>
							</div>														 
						</form>

<!-------------------------------------------------------------- LB Details --------------------------------------------------------------->
							
						<form class="row g-3 mt-1 needs-validation" novalidate  id="lb"  onsubmit="submitForm(event, 'LB Details')">
						<!-- Success message placeholder -->						
							<div id="formMessageForLB" class="col-12 alert-success text-center" style="font-size: 14px;"></div>														
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Private IP</label> 
								<input type="text" class="form-control" id="privateIpInput"
									value="" required
									pattern="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
									title="Please enter a valid IP address."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid IP address.')">
								<div class="invalid-feedback">Please enter a valid IP address.</div>
							</div>																					
							<!-- <div class="col-md-6">
								<label for="fullnameInput" class="form-label">Public IP</label> 
								<input type="text" class="form-control" id="publicIpInput"
									value="" required
									pattern="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
									title="Please enter a valid IP address."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid IP address.')">
								<div class="invalid-feedback">Please enter a valid IP address.</div>
							</div> -->
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Public IP</label> <input
									type="text" class="form-control" id="publicIpInput" required>
							</div>
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Port </label> <input
									type="text" class="form-control" id="port" required>
							</div>													
							<div class="col-12 mt-3">
								<div class="text-center">
									<button type="submit" id="submit" class="btn btn-primary">Submit</button>
									<button type="reset" class="btn btn-secondary">Reset</button>
								</div>
							</div>
						</form>
						
						
<!----------------------------------------------------------- Hardware Details ----------------------------------------------------------->
												
						<form class="row g-3 mt-1 needs-validation" novalidate  id="hardware" onsubmit="submitForm(event, 'Hardware Details')">
							<!-- Success message placeholder -->
							<div id="formMessageForHardware" class="col-12 alert-success text-center" style="font-size: 14px;"></div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label"> Device Name </label> 
								<input type="text" class="form-control" id="deviceName"  required>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Device Maker </label> 
								<input type="text" class="form-control" id="deviceMaker"  required>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Device Model Name </label> 
								<input type="text" class="form-control" id="deviceModelName"  required>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Device Serial No. </label> 
								<input type="text" class="form-control" id="deviceSerialNo"  required>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Device ESN No. </label> 
								<input type="text" class="form-control" id="deviceESNNo"  required>
							</div>
							<div class="col-md-6">
								<label for="inputState" class="form-label">Device Type</label> <select
									id="devicetype" class="form-select"  required>
									<option selected="" value="">Select Device Type...</option>
									<option>Hardware</option>
									<option>Virtual</option>

								</select>
							</div>
							<div class="col-md-6">
								<label for="inputState" class="form-label">Location</label> <select
									id="Location" class="form-select"  required>
									<option selected="" value="">Select Location...</option>
									<option>P4</option>
									<option>P3</option>
									<option>RSDC</option>
								</select>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">IP Address (Management)</label> 
								<input type="text" class="form-control" id="ipAddress"
									value="" required
									pattern="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
									title="Please enter a valid IP address."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid IP address.')">
								<div class="invalid-feedback">Please enter a valid IP address.</div>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">RFS Server IP</label> 
								<input type="text" class="form-control" id="rfsServerIp"
									value="" required
									pattern="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
									title="Please enter a valid IP address."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid IP address.')">
								<div class="invalid-feedback">Please enter a valid IP address.</div>
							</div>
						   <!-- <div class="col-md-6">
								<label for="fullnameInput" class="form-label">Client IP Address</label>
								<input type="text" class="form-control" id="clientIp" value="" required
									pattern="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
									title="Please enter a valid IP address."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid IP address.')">
								<div class="invalid-feedback">Please enter a valid IP address.</div>
							</div>
 							-->
 							
 							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Client IP Address</label> <input
									type="text" class="form-control" id="clientIp" required>
							</div>

							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">No. Of Client License </label> 
								<input type="text" class="form-control"
									id="maximumClient" value="" required pattern="[0-9]+"
									title="Please enter a valid number."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid number.')">
								<div class="invalid-feedback">Please enter a valid number.
									</div>
							</div>

							<!-- added according to new form -->
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Vendor Name </label>
								 <input type="text" class="form-control"
									id="vendorName" required>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Work Order No.</label> 
								<input type="text" class="form-control"
									id="workOrderNo" value="" required pattern="[0-9]+"
									title="Please enter a valid number."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid number.')">
								<div class="invalid-feedback">Please enter a valid number.
									</div>
							</div>

							<div class="col-md-6">
								<label for="StartDate" class="form-label">Work Order Start Date</label>
								<div>
									<input id="StartDate" name="StartDate"
										type="date" class="form-control flatpickr-input active"
										data-provider="flatpickr" data-date-format="Y-m-d"
										data-enable-time="false" placeholder="Start Date" required
										>
								</div>
							</div>
						
							<div class="col-md-6">
								<label for="EndDate" class="form-label">Work Order End Date</label>
								<div>
									<input id="EndDate" name="EndDate"
										type="text" class="form-control flatpickr-input active"
										data-provider="flatpickr" data-date-format="Y-m-d"
										data-enable-time="false" placeholder="End Date" required
										value="">
								</div>
							</div>

	                   <!-------------added according to new form-------------->
							<div class="col-md-6">
								<label for="inputState" class="form-label">Working Status</label> 
								<select id="workingStatus" class="form-select" required>
									<option selected disabled value="">Select Working Status...</option>
									<option value="1">Yes</option>
									<option value="0">NO</option>
								</select>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Reason </label>
								<textarea class="form-control" id="mentionReason"
									rows="2" required></textarea>
							</div>

							<div class="col-12 mt-3">
								<div class="text-center">
									<button type="submit" id="submit" class="btn btn-primary">Submit</button>
									<button type="reset" class="btn btn-secondary">Reset</button>
								</div>
							</div>
							
						</form>
						
<!------------------------------------------------------------- DB Details --------------------------------------------------------------->
						
						<form class="row g-3 mt-1 needs-validation" novalidate id="dbDetail" onsubmit="submitForm(event, 'DB Details')">
							<!-- Success message placeholder -->
							<div id="formMessagefordb" class="col-12 alert-success text-center" style="font-size: 14px;"></div>
							
							<div class="col-md-6">
								<label for="inputState" class="form-label">DB Type</label> <select
									id="selecteddb" class="form-select" value="" required>
									<option selected="" value="">Select DB Type...</option>
									<option>Oracle</option>
									<option>MySQL</option>
									<option>MS SQL</option>
								</select>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label"> DB Version</label> 
								<input type="text" class="form-control" id="dbversion"  required>
							</div>
							<!-- <div class="col-md-6">
								<label for="fullnameInput" class="form-label">DB IP</label> 
								<input type="text" class="form-control" id="dbIP"
									value="" required
									pattern="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
									title="Please enter a valid IP address."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid IP address.')">
								<div class="invalid-feedback">Please enter a valid IP address.</div>
							</div> -->
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">DB IP</label> 
								<input type="text" class="form-control" id="dbIP"  required>
							</div>
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Service Name </label> 
								<input type="text" class="form-control" id="dbService"  required>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Port </label> 
								<input type="text" class="form-control" id="dbPort"  required>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">User Name </label> 
								<input type="text" class="form-control" id="dbUsername"  required>
							</div>

							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Password </label>
								<input type="password" class="form-control" id="dbPassword"  required>
							</div>


							<div class="col-12 mt-3">
								<div class="text-center">
									<button type="submit" id="submit" class="btn btn-primary">Submit</button>
									<button type="reset" class="btn btn-secondary">Reset</button>
								</div>
							</div>
						</form>
						
<!----------------------------------------------- Leased Line Details ------------------------------------------------------------------>
						
						<form class="row g-3 mt-1 needs-validation" novalidate id="networkProvider"  onsubmit="submitForm(event, 'LeasedLine Details')">
							<!-- Success message placeholder -->
							<div id="formMessageForLeaseLine" class="col-12 alert-success text-center" style="font-size: 14px;"></div>
							<div class="col-md-12">
								<label for="fullnameInput" class="form-label">Network Provider </label> 
								<select class="form-select mb-3" id="selectNetworkProvider" required>
									<option selected disabled value="">Select Network Provider...</option>
									<option>Airtel</option>
									<option>Reliance</option>
									<option>Jio</option>

								</select>
							</div>						
							<!-- <div class="col-md-6">
								<label for="fullnameInput" class="form-label">IP1 Address (Start Point)</label>
								<input type="text" class="form-control" id="ip1StartAdd" value="" required
									pattern="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
									title="Please enter a valid IP address."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid IP address.')">
								<div class="invalid-feedback">Please enter a valid IP address.</div>
							</div> -->
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">IP1 Address (Start Point)</label> 
								<input type="text" class="form-control" id="ip1StartAdd"  required>
							</div>

							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">IP1 Location</label> 
								<input type="text" class="form-control"  id="ip1Location" value="" required>
							</div>	
																		
							<!-- <div class="col-md-6">
								<label for="fullnameInput" class="form-label">IP2 Address (End Point)</label>
								<input type="text" class="form-control" id="ip2EndAdd" value="" required
									pattern="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"
									title="Please enter a valid IP address."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid IP address.')">
								<div class="invalid-feedback">Please enter a valid IP address.</div>
							</div> -->
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">IP2 Address (End Point)</label> 
								<input type="text" class="form-control" id="ip2EndAdd"  required>
							</div>
							
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">IP2 Location</label> 
								<input type="text" class="form-control" id="ip2Location" value="" required>
							</div>
							<div class="col-md-6">
								<label for="fullnameInput" class="form-label">Work Order No </label> 
								<input type="text" class="form-control" id="maxClient"
									value="" required pattern="[0-9]+"
									title="Please enter a valid number."
									oninput="setCustomValidity('')"
									oninvalid="setCustomValidity('Please enter a valid number.')">
								<div class="invalid-feedback">Please enter a valid number.
								</div>
							</div>
							
							<!-- -----Added New----- -->
								<div class="col-md-6">
								<label for="woStartDate" class="form-label">Work Order Start Date</label>
								<div>
									<input id="woStartDate" name="woEndDate"
										type="date" class="form-control flatpickr-input active"
										data-provider="flatpickr" data-date-format="Y-m-d"
										data-enable-time="false" placeholder="Start Date" required
										>
								</div>
							</div>
						
							<div class="col-md-6">
								<label for="woEndDate" class="form-label">Work Order End Date</label>
								<div>
									<input id="woEndDate" name="woEndDate"
										type="text" class="form-control flatpickr-input active"
										data-provider="flatpickr" data-date-format="Y-m-d"
										data-enable-time="false" placeholder="End Date" required
										value="">
								</div>
							</div>

							<div class="col-12 mt-3">
								<div class="text-center">
									<button type="submit" id="submit" class="btn btn-primary">Submit</button>
									<button type="reset" class="btn btn-secondary">Reset</button>
								</div>
							</div>
						</form>
					</div>

				</div>
			</div>
		</div>
		<!-- end To add -->
		<div th:replace="fragments_others_footer" :: footer></div>
	</div>

	<div id="loader"
		style="border: 8px solid #007bff; border-radius: 50%; width: 100px; height: 100px; animation: spin 2s linear infinite; position: absolute; top: 50%; left: 60%; transform: translate(-50%, -50%); display: none;"></div>
	<button onclick="topFunction()" class="btn btn-danger btn-icon"
		id="back-to-top">
		<i class="ri-arrow-up-line"></i>
	</button>
	<script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="assets/libs/feather-icons/feather.min.js"></script>
	<script type='text/javascript'
		src='assets/libs/flatpickr/flatpickr.min.js'></script>
	<script src="assets/js/jquery-3.5.1.js"></script>
	<script src="assets/js/jquery.dataTables.min.js"></script>
	<script src="assets/js/dataTables.bootstrap5.min.js"></script>
	<script type="text/javascript"
		src="assets/js/dataTables.fixedHeader.min.js"></script>
	<script type="text/javascript"
		src="assets/js/dataTables.buttons.min.js"></script>
	<script type="text/javascript" src="assets/js/jszip.min.js"></script>
	<script type="text/javascript" src="assets/js/buttons.html5.min.js"></script>
	<script src="assets/js/app.js"></script>


	<script type="text/javascript">
		$(document).ready(
				function() {
					$('#example').DataTable(
							{
								"pageLength" : 10,
								responsive : true,
								lengthMenu : [ [ 10, 50, 100, 200, 500, -1 ],
										[ 10, 50, 100, 200, 500, 'All' ], ],

								dom : 'Bfrtip',
								buttons : [ 'pageLength', 'csv', 'excel' ],

								fixedHeader : {
									header : true,
									footer : true,
								},

							});
				});
	</script>
	
	<!------------------------Required---------------------------->
		<script>
    		function filters(event) {
        	event.preventDefault(); // Prevent default form submission
        	var form = document.getElementById('formid');
        	if (!form.checkValidity()) {
            	form.classList.add('was-validated');
            	return;
        	}

        	let table = $('#example').DataTable();
        	table.clear().draw();
			debugger
        	var projectId = document.getElementById('PROJECT_NAME').value;
        	var projectName = $("#PROJECT_NAME option:selected").text(); 
        	var environment = document.getElementById('PROJECT_ENVIRONMENT').value;
			let data = [];
        		if (environment === 'ALL') {
            			data.push({ projectId: projectId, projectName: projectName, environment: 'Production' });
            			data.push({ projectId: projectId, projectName: projectName, environment: 'Pre-Production' });
            			data.push({ projectId: projectId, projectName: projectName, environment: 'DR' });
        		} else {
            			data.push({ projectId: projectId, projectName: projectName, environment: environment });
        		}
        		data.forEach(function(dataVal, index) {
        			debugger
        		    var row = table.row.add([
        		        index + 1,
        		        dataVal.projectName,
        		        dataVal.environment,
        		        '<a class="btn btn-success view-btn" href="/Authmis/viewDetails?projectId=' + dataVal.projectId + '&environment=' + dataVal.environment + '">View</a>'

        		    ]).draw(false).node();

        		    $(row).addClass('my-row-class');
        		});
    		}	
		</script>
		
	<script>	
		var projectNameValue = ''
		function handleProjectSelection(event) {
			projectNameValue = event.target.value
		}

		var ipaddress;
		function submitForm(event, formType) {			
			event.preventDefault();
			var forms = document.querySelectorAll(`.${formType}`);			
			if (formType === 'Server Details') {
				submitFormForServerDetails(event);
			} else if (formType === 'LB Details') {
				submitFormForLB(event);
			} else if (formType === 'Hardware Details') {
				submitFormForHardware(event);
			} else if (formType === 'DB Details') {
				submitFormForDB(event);
			} else if (formType === 'LeasedLine Details') {
				submitFormForLeasedLine(event);
			}		   					
		}
		
		function resetForms() {
		    var forms = document.querySelectorAll('.needs-validation');
		    forms.forEach(function(form) {
		        form.reset(); // Reset form fields
		        form.classList.remove('was-validated'); // Remove Bootstrap validation classes
		    });
		}
		<!------------------------------------------------Server Details----------------------------------------------------------------->

		function submitFormForServerDetails(event) {
			debugger
		    event.preventDefault();		    		    
		    $("#workOrderStartDate").removeAttr("readonly");
		    $("#workOrderEndDate").removeAttr("readonly");		 
			var form = document.getElementById('serverDetails');
			if (!form.checkValidity()) {
				event.stopPropagation();
				form.classList.add('was-validated');				
				return; 
			} 		   
		    var ipInput = document.getElementById('ip');
		    var ip = ipInput.value.trim(); // Trim whitespace from input value		  
		    // Continue with form submission if IP is valid
		    var projectName = document.getElementById('projectName').value;
		    var serverType = document.getElementById('serverType').value;
		    var cpuCode = document.getElementById('cpuCode').value;
		    var setRam = document.getElementById('setRam').value;
		    var osType = document.getElementById('osType').value;
		    var osVersion = document.getElementById('osVersion').value;
		    var technology = document.getElementById('technology').value;
		    var selectWebSphere = document.getElementById('selectWebSphere').value;
		    var selectLocation = document.getElementById('selectLocation').value;
		    var workOrderStartDate = document.getElementById('workOrderStartDate').value;
		    var workOrderEndDate = document.getElementById('workOrderEndDate').value;
		    var projectId = projectNameValue;
		    var environment = document.getElementById('environmentInput').value;
		    var uploadSigingCertificate = document.getElementById('uploadSigingCertificate').files[0];
		    var uploadEncryptioncertificate = document.getElementById('uploadEncryptioncertificate').files[0];
			debugger
		    var reader = new FileReader();
		    reader.readAsDataURL(uploadEncryptioncertificate);
		    reader.onload = function() {
		        var base64dataEncryption = reader.result.split(',')[1];
		        // Now handle the signing certificate
		        var reader2 = new FileReader();
		        reader2.readAsDataURL(uploadSigingCertificate);
		        reader2.onload = function() {
		            var base64dataSigning = reader2.result.split(',')[1];

		            var data = {
		                projectName: projectName,ip: ip,serverType: serverType,cpuCode: cpuCode,setRam: setRam,osType: osType,
		                osVersion: osVersion,technology: technology,selectWebSphere: selectWebSphere,serverLocation: selectLocation,
		                encryptedCertificate: base64dataEncryption,encryptedCertificateExp: workOrderStartDate,
		                signingCertificate: base64dataSigning,signingCertificateExp: workOrderEndDate,
		                projectId: projectId,environment: environment
		            };
		            $.ajax({
		                type: 'POST',
		                url: '/Authmis/saveServerDetails', 
		                contentType: 'application/json',
		                data: JSON.stringify(data),
		                success: function(response) {
		                    document.getElementById('formMessage').innerText = 'Data saved successfully';
		                    setTimeout(function() {
		                        $('#exampleModalToggle').modal('hide');	                    
		                        $('.modal-backdrop').remove();
		                        form.classList.remove('was-validated'); 
		                        form.reset();
		                        document.getElementById('formMessage').style.display = 'none';
		                    }, 2000);	
		                },
		                error: function(xhr, status, error) {
		                    console.error('Error saving data:', error);		                   
		                }
		            });
		        };
		    };
		}
	
		
		//-------------------------------------------------------------------------------For DB----------------------------------------------------------------------------------

		function submitFormForDB(event) {
    			event.preventDefault(); // Prevent default form submission   			
    			var form = document.getElementById('dbDetail');
    			if (!form.checkValidity()) {
    				event.stopPropagation();
    				form.classList.add('was-validated');				
    				return; 
    			} 
				var databaseName = document.getElementById('selecteddb').value;
    			var databaseVersion = document.getElementById('dbversion').value;   		    		
    			var dbipInput = document.getElementById('dbIP');
    			var dbip = dbipInput.value.trim();			
    			var serviceName = document.getElementById('dbService').value;
    			var serverPort = document.getElementById('dbPort').value;
    			var username = document.getElementById('dbUsername').value;
    			var serverPassword = document.getElementById('dbPassword').value;
    			var projectId = projectNameValue; 
    			var environment = document.getElementById('environmentInput').value;

   				var data = {
        						databaseName: databaseName,databaseVersion: databaseVersion,ip: dbip,serviceName: serviceName,
        						serverPort: serverPort,username: username,serverPassword: serverPassword,projectId: projectId,
        						environment: environment
    						};

    			$.ajax({
        					type: 'POST',
        					url: '/Authmis/saveDBServerDetails', // Your backend endpoint URL
        					contentType: 'application/json',
       	 					data: JSON.stringify(data),
        					success: function (response) {
            						 document.getElementById('formMessagefordb').innerText = 'Data saved successfully'; 
            						 setTimeout(function() {
            		                        $('#exampleModalToggle').modal('hide');	                    
            		                        $('.modal-backdrop').remove();
            		                        form.classList.remove('was-validated'); // Remove Bootstrap validation classes
            		                        form.reset(); // Reset the form fields
            		                        document.getElementById('formMessagefordb').style.display = 'none';
            		                        //location.reload(); // Reload the page
            		                    }, 2000);	
	           				},
        					error: function (xhr, status, error) {
            						// Handle error response
            						console.error('Error saving data:', error);
         					}
    			});
		}


		//-----------------------------------------------------------------For LeasedLine----------------------------------------------------------------------------------

		function submitFormForLeasedLine(event) {
			event.preventDefault();
			//check required
			$("#woStartDate").removeAttr("readonly");
			$("#woEndDate").removeAttr("readonly");
			var form = document.getElementById('networkProvider');
			if (!form.checkValidity()) {
				event.stopPropagation();
				form.classList.add('was-validated');				
				return; 
			}							
			var ip1 = document.getElementById('ip1StartAdd').value.trim();
			var ip2 = document.getElementById('ip2EndAdd').value.trim();						
			var networkProvider = document.getElementById('selectNetworkProvider').value;			
			var ip1Location = document.getElementById('ip1Location').value;			
			var ip2Location = document.getElementById('ip2Location').value;
			var maxClient = document.getElementById('maxClient').value;
			var workOrderStartDate = document.getElementById('woStartDate').value;
			var workOrderEndDate = document.getElementById('woEndDate').value;		
			var projectId = projectNameValue;
			var environment = document.getElementById('environmentInput').value;

			var data = {
				networkProvider : networkProvider,privateIp : ip1,privateIpLocation : ip1Location,publicIp : ip2,
				publicIpLocation : ip2Location,maximumClient : maxClient,workOrderStartDate : workOrderStartDate,workOrderEndDate : workOrderEndDate,				
				projectId : projectId,environment : environment				
			};
			$.ajax({
				type : 'POST',
				url : '/Authmis/saveLeasedLineDetails', // Your backend endpoint URL
				contentType : 'application/json',
				data : JSON.stringify(data),
				success : function(response) {
					 document.getElementById('formMessageForLeaseLine').innerText = 'Data saved successfully'; 
					 setTimeout(function() {
	                        $('#exampleModalToggle').modal('hide');	                    
	                        $('.modal-backdrop').remove();
	                        form.classList.remove('was-validated');
	                        form.reset();
	                        document.getElementById('formMessageForLeaseLine').style.display = 'none';	                      
	                    }, 2000);	
				},
				error : function(xhr, status, error) {
					console.error('Error saving data:', error);
				}
			});
		}

		//--------------------------------------------------------------------For LB Details------------------------------------------------------------------------>	
		function submitFormForLB(event) {			
			var form = document.getElementById('lb');
			if (!form.checkValidity()) {
				event.stopPropagation();
				form.classList.add('was-validated');				
				return; 
			} 								
			var ip1 = document.getElementById('privateIpInput').value.trim();
			var ip2 = document.getElementById('publicIpInput').value.trim();											
			var port = document.getElementById('port').value;
			var projectId = projectNameValue;
			var serverDetail = document.getElementById('detailType').value;
			var environment = document.getElementById('environmentInput').value;
			//var location = document.getElementById('lblocation').value;
			var data = {
				privateIp : ip1,publicIp : ip2,port : port,projectId : projectId,serverDetail : serverDetail,environment : environment,
				//location : location
			};
			$.ajax({
				type : 'POST',
				url : '/Authmis/saveLBServerDetails', 
				contentType : 'application/json',
				data : JSON.stringify(data),
				success : function(response) {
					 document.getElementById('formMessageForLB').innerText = 'Data saved successfully'; 
					 setTimeout(function() {
	                        $('#exampleModalToggle').modal('hide');	                    
	                        $('.modal-backdrop').remove();
	                        form.classList.remove('was-validated');
	                        form.reset();
	                        document.getElementById('formMessageForLB').style.display = 'none';
	                        //location.reload(); // Reload the page
	                    }, 2000);					
				},
				error : function(xhr, status, error) {
					console.error('Error saving data:', error);				
				}
			});
		}

		
		//-----------------------------------------------------------------For Hardware----------------------------------------------------------------------------------

		function submitFormForHardware(event) {
			event.preventDefault(); 		
			var form = document.getElementById('hardware');
			$("#StartDate").removeAttr("readonly");
			$("#EndDate").removeAttr("readonly");
			if (!form.checkValidity()) {
				event.stopPropagation();
				form.classList.add('was-validated');				
				return; 
			}
			var ip1 = document.getElementById('ipAddress').value.trim();
			var ip2 = document.getElementById('rfsServerIp').value.trim();
			var ip3 = document.getElementById('clientIp').value.trim();								
			var deviceName = document.getElementById('deviceName').value;
			var deviceMaker = document.getElementById('deviceMaker').value;
			var deviceModelName = document.getElementById('deviceModelName').value;
			var deviceSerialNo = document.getElementById('deviceSerialNo').value;
			var deviceESNNo = document.getElementById('deviceESNNo').value;
			var devicetype = document.getElementById('devicetype').value;
			var Location = document.getElementById('Location').value;				
			var maximumClient = document.getElementById('maximumClient').value;
			var workOrderNo = document.getElementById('workOrderNo').value;
			var workOrderStartDate = document.getElementById('StartDate').value;
			var workOrderEndDate = document.getElementById('EndDate').value;
			var vendorName = document.getElementById('vendorName').value;
			var workingStatus = document.getElementById('workingStatus').value;
			var mentionReason = document.getElementById('mentionReason').value;
			var projectId = projectNameValue;
			var deviceEnvironment = document.getElementById('environmentInput').value;

			var data = {
				deviceName : deviceName,
				deviceMaker : deviceMaker,
				deviceModelName : deviceModelName,
				deviceSerialNo : deviceSerialNo,
				deviceEsnNo : deviceESNNo,
				deviceType : devicetype,
				deviceLocation : Location,
				managementIpAddress : ip1,
				rfsServerIp : ip2,
				clientIp : ip3,
				maximumClient : maximumClient,
				workOrderNumber : workOrderNo,
				workOrderStartDate : workOrderStartDate,
				workOrderEndDate : workOrderEndDate,
				vendorName : vendorName,
				workingStatus : workingStatus,
				mentionReason : mentionReason,						
				environment : deviceEnvironment,
				projectId : projectId
			};
			$.ajax({
				type : 'POST',
				url : '/Authmis/saveHardwareDetails',
				contentType : 'application/json',
				data : JSON.stringify(data),
				success : function(response) {
					 document.getElementById('formMessageForHardware').innerText = 'Data saved successfully';
					 setTimeout(function() {
	                        $('#exampleModalToggle').modal('hide');	                    
	                        $('.modal-backdrop').remove();
	                        form.classList.remove('was-validated');
	                        form.reset();
	                        document.getElementById('formMessageForHardware').style.display = 'none';
	                    }, 2000);	
				},
				error : function(xhr, status, error) {
					console.error('Error saving data:', error);
				}
			});
		}
	</script>

	<script type="text/javascript">
		document.addEventListener("DOMContentLoaded", function() {
			document.getElementById('preloader').style.display = 'none';
		});
	</script> 

	<!--<script type="text/javascript">
		$(document).ready(function() {
			$(".tblNew1").hide();
			$("#submit_btn").click(function() {
				//    $(Create).show();
				$(".tblNew1").show();

			});
		});
	</script>-->
	
	<script type="text/javascript">
		$("#serverDetails").hide();
		$("#lb").hide();
		$("#hardware").hide();
		$("#dbDetail").hide();
		$("#networkProvider").hide();
		$('#detailType').on('change', function() {
		    var dropdown1 = document.getElementById('PROJECT_ID');
			var dropdown2 = document.getElementById('environmentInput');
			var dropdownErrorProject = document.getElementById('dropdownErrorProject');
			var dropdownErrorEnvironment = document.getElementById('dropdownErrorEnvironment');

			// Check if dropdown1 or dropdown2 are not selected when dropdown3 is selected
		if(!dropdown1.value || !dropdown2.value){
			if(!dropdown1.value && !dropdown2.value){
				dropdownErrorProject.style.display = 'block';
				dropdownErrorEnvironment.style.display = 'block';
		
			}else if (!dropdown1.value){
				dropdownErrorProject.style.display = 'block';
				dropdownErrorEnvironment.style.display = 'none';
			} 	
			else if(!dropdown2.value) {				
				dropdownErrorEnvironment.style.display = 'block';
				dropdownErrorProject.style.display = 'none';
			}			
				document.getElementById('detailType').selectedIndex = 0;
				document.getElementById('detailType').reset();		
			} 
		else {
			  dropdownErrorEnvironment.style.display = 'none';
			  dropdownErrorProject.style.display = 'none';

				var $option = $(this).find('option:selected');
				var value = $option.val();
				//console.log(value);
				if (value == "Server Detail") {
					$("#serverDetails").show();
					$("#lb").hide();
					$("#hardware").hide();
					$("#dbDetail").hide();
					$("#networkProvider").hide();
				} else if (value == "DB Details") {
					$("#dbDetail").show();
					$("#serverDetails").hide();
					$("#lb").hide();
					$("#hardware").hide();
					$("#networkProvider").hide();

				} else if (value == "LB Details") {
					$("#lb").show();
					$("#dbDetail").hide();
					$("#serverDetails").hide();
					$("#hardware").hide();
					$("#dbDetail").hide();
					$("#networkProvider").hide();
				} else if (value == "Hardware Details") {
					$("#hardware").show();
					$("#lb").hide();
					$("#dbDetail").hide();
					$("#serverDetails").hide();
					$("#dbDetail").hide();
					$("#networkProvider").hide();
				} else if (value == "Leased Line Detail") {
					$("#hardware").hide();
					$("#lb").hide();
					$("#dbDetail").hide();
					$("#serverDetails").hide();
					$("#dbDetail").hide();
					$("#networkProvider").show();
				}
			}
		})
	</script>


	<script>
		const currentDate = new Date();
		const fromdefaultTime = new Date();
		fromdefaultTime.setHours(00); // Set the default hour
		fromdefaultTime.setMinutes(00); // Set the default minute

		// Initialize Flatpickr with the modified date object
		flatpickr("#workOrderStartDate", {
			mode : "single",
			dateFormat : "Y-m-d",
			enableTime : false,
			minDate : currentDate, // Set minDate to the current date
			defaultDate : fromdefaultTime
		});

		flatpickr("#workOrderEndDate", {
			mode : "single",
			dateFormat : "Y-m-d",
			enableTime : false,
			minDate : currentDate, // Set minDate to the current date
			defaultDate : fromdefaultTime
		});
		
		// Initialize Flatpickr with the modified date object
		flatpickr("#StartDate", {
			mode : "single",
			dateFormat : "Y-m-d",
			enableTime : false,
			minDate : currentDate, // Set minDate to the current date
			defaultDate : fromdefaultTime
		});
		flatpickr("#EndDate", {
			mode : "single",
			dateFormat : "Y-m-d",
			enableTime : false,
			minDate : currentDate, // Set minDate to the current date
			defaultDate : fromdefaultTime
		});
		// Initialize Flatpickr with the modified date object
		flatpickr("#woStartDate", {
			mode : "single",
			dateFormat : "Y-m-d",
			enableTime : false,
			minDate : currentDate, // Set minDate to the current date
			defaultDate : fromdefaultTime
		});
		flatpickr("#woEndDate", {
			mode : "single",
			dateFormat : "Y-m-d",
			enableTime : false,
			minDate : currentDate, // Set minDate to the current date
			defaultDate : fromdefaultTime
		});
	</script>

</body>
</html>